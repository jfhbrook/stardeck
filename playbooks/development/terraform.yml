- name: Terraform
  hosts: all
  connection: local
  become: true
  tasks:
    - name: Install dnf-plugins-core
      become: true
      ansible.builtin.dnf:
        name: dnf-plugins-core
        state: present
    - name: Set up Hashicorp RPM Repository
      become: true
      ansible.builtin.command:
        argv:
          - dnf
          - config-manager
          - --add-repo
          - https://rpm.releases.hashicorp.com/fedora/hashicorp.repo
    - name: Install packages
      ansible.builtin.dnf:
        name: terraform
        state: present
